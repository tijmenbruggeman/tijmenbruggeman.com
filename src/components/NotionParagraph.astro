---
const { block } = Astro.props;
const { paragraph } = block;
const { rich_text } = paragraph;


function getAnnotationClass(annotations): string {
    if (!annotations) return '';
    
    const classes = [];
    Object.keys(annotations).forEach((annotation) => {
        if (annotations[annotation] === true) {
            classes.push(annotation);
        }
    });
    return classes.join(' ');
}
---
<style>
.bold {
    font-weight: bold;
}
.italic {
    font-style: italic;
}
</style>
<p>{rich_text.map(({ href, text, annotations }) => {
    if (href) return <a href={href} class={getAnnotationClass(annotations)}>{text.content}</a>
    return <span class={getAnnotationClass(annotations)}>{text.content}</span>
})}</p>